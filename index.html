<!doctypehtml><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1,user-scalable=no"name=viewport><title>toda - Astronomical Visualization</title><style>*{margin:0;padding:0;box-sizing:border-box}body,html{width:100%;height:100%;overflow:hidden}body{background:#000;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;color:#fff}#canvas{position:absolute;top:0;left:0;display:block;background:#000}#overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:10}#header{position:absolute;top:0;left:0;right:0;background:linear-gradient(to bottom,rgba(0,0,0,.8) 0,rgba(0,0,0,0) 100%);padding:15px 20px;pointer-events:auto;transition:opacity .3s ease}#header h1{font-size:20px;font-weight:300;letter-spacing:2px;text-transform:uppercase;background:linear-gradient(90deg,#00d4ff,#90f7ec);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;display:inline-block}#fullscreen-btn{position:absolute;top:15px;right:20px;background:rgba(0,212,255,.2);border:1px solid rgba(0,212,255,.5);color:#00d4ff;padding:8px 16px;border-radius:5px;cursor:pointer;font-size:14px;transition:all .3s ease;pointer-events:auto}#fullscreen-btn:hover{background:rgba(0,212,255,.4);border-color:#00d4ff}#controls{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,rgba(0,0,0,.8) 0,rgba(0,0,0,0) 100%);padding:20px 20px 15px 20px;font-size:12px;line-height:1.8;pointer-events:auto;transition:opacity .3s ease}#controls strong{color:#00d4ff}#status{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.9);padding:30px 50px;border-radius:10px;border:1px solid rgba(0,212,255,.5);text-align:center;font-size:18px;pointer-events:auto}#status .loading{display:inline-block;width:50px;height:50px;border:4px solid rgba(0,212,255,.3);border-top:4px solid #00d4ff;border-radius:50%;animation:spin 1s linear infinite;margin:20px auto}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.hidden{display:none!important}.fade-out{opacity:0!important}#touch-hint{position:absolute;bottom:80px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.7);padding:10px 20px;border-radius:20px;font-size:14px;opacity:0;transition:opacity .3s ease;pointer-events:none}#touch-hint.visible{opacity:1}</style></head><body><canvas id=canvas oncontextmenu=event.preventDefault() tabindex=-1></canvas><div id=overlay><div id=header><h1>toda - Universe Explorer</h1><button id=fullscreen-btn>Fullscreen</button></div><div id=status><div>Loading toda...</div><div class=loading></div></div><div id=controls><strong>Controls:</strong>WASD/Arrow Keys: Move | Mouse: Look around | Q/E: Roll | +/-: Zoom | M/Tab: Toggle View Mode (Universe/Planet/Moon) | G: Toggle Grid | S: Toggle Stars | T: Toggle Time | F: Toggle FPS | H: Toggle HUD | ESC: Quit</div><div id=touch-hint>Tap to interact</div></div><script>var statusElement=document.getElementById("status"),canvasElement=document.getElementById("canvas"),headerElement=document.getElementById("header"),controlsElement=document.getElementById("controls"),fullscreenBtn=document.getElementById("fullscreen-btn"),touchHint=document.getElementById("touch-hint"),uiHideTimeout=null,uiVisible=!0,canvasInfo={width:window.innerWidth,height:window.innerHeight,isFullscreen:!1,needsUpdate:!0};function resizeCanvas(){var e=window.innerWidth,t=window.innerHeight;canvasInfo.isFullscreen=!(!document.fullscreenElement&&!document.webkitFullscreenElement);var n=e,o=t;canvasElement.width===n&&canvasElement.height===o||(canvasElement.width=n,canvasElement.height=o,canvasElement.style.width=n+"px",canvasElement.style.height=o+"px",canvasInfo.width=n,canvasInfo.height=o,canvasInfo.needsUpdate=!0,console.log("Canvas resized: "+n+"x"+o+" (fullscreen: "+canvasInfo.isFullscreen+")"))}function showUI(){headerElement.classList.remove("fade-out"),controlsElement.classList.remove("fade-out"),uiVisible=!0,resetUIHideTimer()}function hideUI(){statusElement.classList.contains("hidden")&&(headerElement.classList.add("fade-out"),controlsElement.classList.add("fade-out"),uiVisible=!1)}function resetUIHideTimer(){uiHideTimeout&&clearTimeout(uiHideTimeout),uiHideTimeout=setTimeout(hideUI,3e3)}function toggleFullscreen(){if(document.fullscreenElement||document.webkitFullscreenElement)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),fullscreenBtn.textContent="Fullscreen";else{var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),fullscreenBtn.textContent="Exit Fullscreen"}}function onFullscreenChange(){document.fullscreenElement||document.webkitFullscreenElement?fullscreenBtn.textContent="Exit Fullscreen":fullscreenBtn.textContent="Fullscreen",resizeCanvas()}!function(){var e=window.innerWidth,t=window.innerHeight;canvasElement.width=e,canvasElement.height=t,canvasElement.style.width=e+"px",canvasElement.style.height=t+"px",canvasInfo.width=e,canvasInfo.height=t,console.log("Initial canvas: "+e+"x"+t)}(),window.getCanvasWidth=function(){return canvasInfo.width},window.getCanvasHeight=function(){return canvasInfo.height},window.isCanvasFullscreen=function(){return canvasInfo.isFullscreen?1:0},window.getCanvasDevicePixelRatio=function(){return canvasInfo.devicePixelRatio},window.hasCanvasSizeChanged=function(){return canvasInfo.needsUpdate?(canvasInfo.needsUpdate=!1,1):0},window.addEventListener("resize",resizeCanvas),document.addEventListener("fullscreenchange",onFullscreenChange),document.addEventListener("webkitfullscreenchange",onFullscreenChange),fullscreenBtn.addEventListener("click",(function(e){e.stopPropagation(),toggleFullscreen()})),document.addEventListener("mousemove",(function(){uiVisible?resetUIHideTimer():showUI()}));var isTouchDevice="ontouchstart"in window;isTouchDevice&&(touchHint.classList.add("visible"),setTimeout((function(){touchHint.classList.remove("visible")}),3e3)),document.addEventListener("touchstart",(function(){uiVisible?resetUIHideTimer():showUI()})),canvasElement.addEventListener("click",(function(){canvasElement.focus()})),resetUIHideTimer();var browserGeolocation={latitude:0,longitude:0,available:!1,error:null,timestamp:0};function requestGeolocation(){if(!navigator.geolocation)return browserGeolocation.error="Geolocation not supported",void console.log("Geolocation: Not supported by this browser");navigator.geolocation.getCurrentPosition((function(e){browserGeolocation.latitude=e.coords.latitude,browserGeolocation.longitude=e.coords.longitude,browserGeolocation.available=!0,browserGeolocation.timestamp=Date.now(),browserGeolocation.error=null,console.log("Geolocation: "+browserGeolocation.latitude.toFixed(4)+", "+browserGeolocation.longitude.toFixed(4))}),(function(e){switch(browserGeolocation.available=!1,e.code){case e.PERMISSION_DENIED:browserGeolocation.error="Permission denied";break;case e.POSITION_UNAVAILABLE:browserGeolocation.error="Position unavailable";break;case e.TIMEOUT:browserGeolocation.error="Request timeout";break;default:browserGeolocation.error="Unknown error"}console.log("Geolocation error: "+browserGeolocation.error)}),{enableHighAccuracy:!1,timeout:1e4,maximumAge:3e5})}requestGeolocation(),window.getBrowserGeolocationAvailable=function(){return browserGeolocation.available?1:0},window.getBrowserGeolocationLatitude=function(){return browserGeolocation.latitude},window.getBrowserGeolocationLongitude=function(){return browserGeolocation.longitude},window.getBrowserGeolocationError=function(){return browserGeolocation.error||""},window.getBrowserCurrentTime=function(){return Date.now()/1e3},window.getBrowserTimezoneOffset=function(){return-(new Date).getTimezoneOffset()/60};var Module={preRun:[function(){"undefined"!=typeof addOnPostRun&&addOnPostRun((function(){console.log("Post-run GL emulation check")}))}],postRun:[],canvas:canvasElement,initGLEmulation:function(){console.log("Initializing GL emulation arrays..."),"undefined"!=typeof GLEmulation&&(GLEmulation.rendererComponents||(GLEmulation.rendererComponents=[]),GLEmulation.enabledClientAttribIndices||(GLEmulation.enabledClientAttribIndices=[]),console.log("GLEmulation arrays initialized"))},print:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments).join(" ")),console.log(e)},printErr:function(e){arguments.length>1&&(e=Array.prototype.slice.call(arguments).join(" ")),console.error(e)},setStatus:function(e){if(Module.setStatus.last||(Module.setStatus.last={time:Date.now(),text:""}),e!==Module.setStatus.last.text){var t=e.match(/([^(]+)\((\d+(\.\d+)?)\/(\d+)\)/),n=Date.now();t&&n-Module.setStatus.last.time<30||(Module.setStatus.last.time=n,Module.setStatus.last.text=e,e?(statusElement.querySelector("div:first-child").innerHTML=e,console.log("Status: "+e)):(statusElement.classList.add("hidden"),canvasElement.style.visibility="visible",resetUIHideTimer()))}},totalDependencies:0,monitorRunDependencies:function(e){this.totalDependencies=Math.max(this.totalDependencies,e),Module.setStatus(e?"Preparing... ("+(this.totalDependencies-e)+"/"+this.totalDependencies+")":"All downloads complete.")},onRuntimeInitialized:function(){console.log("toda initialized successfully!"),Module.setStatus(""),resizeCanvas()}};Module.setStatus("Downloading..."),window.onerror=function(e){Module.setStatus("Exception thrown, see JavaScript console"),statusElement.querySelector("div:first-child").innerHTML="Exception: "+e,Module.setStatus=function(e){e&&Module.printErr("[post-exception status] "+e)}}</script><script async src=toda.js></script></body></html>